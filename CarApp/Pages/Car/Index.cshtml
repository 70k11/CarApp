@page
@model CarApp.Pages.Car.IndexModel
@{
    ViewData["Title"] = "Cars";
}

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">

<div class="container mt-5">
    <h1 class="display-4 text-center mb-4">Cars List</h1>
    <hr class="mb-4" />
    <div class="d-flex justify-content-end mb-3">
        <a asp-page="Create" class="btn btn-success btn-lg">Add New Car</a>
    </div>
    <div class="table-responsive shadow-sm">
        <table id="carsTable" class="table table-striped table-hover align-middle">
            <thead>
                <tr class="text-center">
                    <th>Brand</th>
                    <th>Model</th>
                    <th>Year</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var car in Model.Cars)
                {
                    <tr class="text-center">
                        <td>@car.CarManufacturer</td>
                        <td>@car.CarModel</td>
                        <td>@car.CarYom</td>
                        <td>
                            <a asp-page="./Edit" asp-route-id="@car.CarId" class="btn btn-primary">Edit</a>
                            <a asp-page="./Show" asp-route-id="@car.CarId" class="btn btn-success">Details</a>
                            <a asp-page="./Delete" asp-route-id="@car.CarId" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#carsTable').DataTable({
                paging: true,
                searching: true,
                ordering: true,
                columnDefs: [
                    { orderable: false, targets: 3 }
                ]
            });
        });
    </script>
}
